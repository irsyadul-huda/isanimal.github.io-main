<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimal-ui, viewport-fit=cover"/>
  <title>Matematic Game</title>
  <link rel="icon" href="asset/logo.png" type="image/x-icon">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/styleshet.css">
</head>
<body>
  <div class="falling-leaves-container" id="leavesContainer"></div>
  <div class="fadeout-overlay" id="fadeoutOverlay"></div>
  <div class="fadein-overlay" id="fadeinOverlay"></div>
  <img src="asset/template matematika.png" alt="Template Matematika" class="template-mtk-float" draggable="false" style="background: none;max-width:97vw;"/>
  <div class="audio-aboutme-header-btn-container">
    <a class="aboutme-top-right-btn" id="aboutMeBtn-top" aria-label="About Me" title="About Me" href="about-us.html">
      <svg viewBox="0 0 32 32" width="26" height="26">
        <circle cx="16" cy="12" r="7" fill="#ffe07b" stroke="#fbbc04" stroke-width="2"/>
        <ellipse cx="16" cy="24.5" rx="10" ry="7" fill="#fff9ea" stroke="#fbbc04" stroke-width="2"/>
        <ellipse cx="16" cy="12" rx="7" ry="7" fill="none" stroke="#e5a700" stroke-width="1.4"/>
        <ellipse cx="16" cy="24.5" rx="10" ry="7" fill="none" stroke="#e5a700" stroke-width="1.4"/>
      </svg>
    </a>
    <button id="muteToggleBtn" class="mute-toggle-btn" aria-label="Mute / Unmute Audio" title="Mute / Unmute">
      <svg id="icon-mute-toggle" viewBox="0 0 24 24" fill="none" stroke="#FBB904" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" width="24" height="24">
        <polygon id="icon-mute-toggle-polygon" points="9 9 13 9 17 5 17 19 13 15 9 15 9 9"/>
        <line id="icon-mute-toggle-line" x1="19" y1="5" x2="19" y2="19"></line>
      </svg>
    </button>
  </div>
  <div class="header-btn-container-row">
    <a class="info-top-right-btn" id="infoBtn-top" aria-label="Informasi" title="Informasi" href="#">
      <svg viewBox="0 0 32 32" width="26" height="26">
        <circle cx="16" cy="16" r="15" fill="#fff9ea" stroke="#fbbc04" stroke-width="2"/>
        <ellipse cx="16" cy="16" rx="15" ry="15" fill="none" stroke="#e5a700" stroke-width="1.4"/>
        <text x="16" y="22" text-anchor="middle" font-size="18" font-family="Arial, Helvetica, sans-serif" fill="#e5a700" dominant-baseline="middle" style="font-weight:400">i</text>
      </svg>
    </a>
  </div>
  <div class="mini-info-modal-overlay" id="miniInfoModal">
    <div class="mini-info-modal" role="dialog" aria-modal="true" aria-labelledby="infoTitle">
      <img src="asset/logo.png" alt="Logo" class="mini-info-logo" loading="lazy" style="width: 50px; height: 50px; display: block; margin: 0 auto 8px auto;" />
      <div class="mini-info-modal-content-inner">
        <h2 id="infoTitle">INFORMASI</h2>
        <p>
          <span style="text-align: justify; font-weight: 300; font-family: 'Poppins', Arial, Helvetica, sans-serif; display:block;">
            Game Ular Tangga Operasi Hitung Campuran adalah media pembelajaran web interaktif untuk siswa SD kelas III.<br>
            Melalui permainan ular tangga, siswa belajar memahami konsep operasi hitung campuran dengan menjawab soal di setiap langkah.<br>
            Game ini juga dilengkapi video penjelasan menarik, tampilan ramah anak, dan gameplay sederhana yang membuat belajar matematika terasa seru.<br>
          </span>
        </p>
        <button class="close-btn-miniinfo" id="closeMiniInfoBtn" aria-label="Tutup">
          <span class="btn-label">Tutup</span>
        </button>
      </div>
    </div>
  </div>
  <div class="audio-dropdown-container" style="position:absolute;left:0;top:80px;width:98vw;max-width:400px;">
    <div id="audioDropdown" class="audio-dropdown">
      <div class="audio-volume-slider-wrap">
        <button class="audio-volume-mute-mini" id="audioMuteMiniBtn" type="button" aria-label="Mute/Unmute (Mini)">
          <svg id="audioMuteMiniIcon" viewBox="0 0 24 24" fill="none" stroke="#FBB904" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polygon id="audioMuteMiniPoly" points="9 9 13 9 17 5 17 19 13 15 9 15 9 9"/>
            <line id="audioMuteMiniLine" x1="19" y1="5" x2="19" y2="19"></line>
          </svg>
        </button>
        <span class="audio-volume-min">0</span>
        <input type="range" min="0" max="100" value="100" class="audio-volume-slider" id="audioVolumeSlider" aria-label="Volume" />
        <span class="audio-volume-max">100</span>
      </div>
    </div>
  </div>
  <audio id="backgroundAudio" src="audio.mp3" loop></audio>
  <section id="hero" class="hero">
    <div class="container-center">
      <img src="asset/background ke 2 matematika.png" class="bg-mtk-2" alt="" style="pointer-events:none;max-width:100vw;height:auto;display:block;" />
      <div class="area-image"></div>
      <div class="button-row center-menu-buttons">
        <a class="nav-btn main-quiz-btn" id="quizBtn" href="#">START GAME</a>
        <div class="below-quiz-buttons">
          <a class="nav-btn below-quiz" id="materiBtn" href="#">Materi</a>
          <button class="nav-btn below-quiz" id="caraMainBtn" type="button">Cara Bermain</button>
        </div>
      </div>
    </div>
    <div class="custom-bottom-bar">
      <div class="button-row">
        <a class="nav-btn main-quiz-btn" id="quizBtn-bar" href="#">START GAME</a>
        <a class="nav-btn below-quiz" id="materiBtn-bar" href="#">Materi</a>
        <button class="nav-btn below-quiz" id="caraMainBtn-bar" type="button">Cara Bermain</button>
        <button class="nav-btn" id="aboutMeBtn-bar" type="button">About Me</button>
      </div>
    </div>
    <div id="aboutMeModal" class="modal-overlay" style="display:none;">
      <div class="modal-content">
        <button class="close-btn close-btn-3d" id="closeAboutMe" aria-label="Tutup">
          <span class="x-3d">
            <span class="x-bar"></span>
            <span class="x-bar"></span>
          </span>
        </button>
        <iframe src="about-us.html" style="width:100%;height:80vh;border:none;border-radius:12px;background:white;font-family:'Poppins',Arial,Helvetica,sans-serif;font-weight:700;max-width:100vw;"></iframe>
      </div>
    </div>
    <div id="caraMainModal" class="modal-overlay">
      <div class="modal-content" tabindex="-1">
        <button class="close-btn close-btn-3d" id="closeCaraMain" aria-label="Tutup" style="background: rgba(255, 255, 255, 0.65); transition: box-shadow 0.25s;">
          <style>
            #closeCaraMain .x-3d .x-bar {
              background: #e29120 !important;
              transition: background 0.2s;
            }
            #closeCaraMain:hover {
              box-shadow: 0 0 14px 4px rgba(226,145,32,0.55), 0 2px 16px rgba(255,190,62,0.28);
            }
            #closeCaraMain:hover .x-3d .x-bar {
              background: #c67112 !important;
            }
          </style>
          <span class="x-3d">
            <span class="x-bar"></span>
            <span class="x-bar"></span>
          </span>
        </button>
        <iframe src="game-rules.html" style="width:100%;height:80vh;border:none;border-radius:12px;background:rgb(255, 255, 255);font-family:'Poppins',Arial,Helvetica,sans-serif;font-weight:700;max-width:100vw;"></iframe>
      </div>
    </div>
    <script>
      document.documentElement.style.overflow = 'hidden';
      document.body.style.overflow = 'hidden';
      document.getElementById('muteToggleBtn').style.pointerEvents = 'auto';
      document.getElementById('aboutMeBtn-top').style.pointerEvents = 'auto';
      var infoBtnTop = document.getElementById('infoBtn-top');
      if (infoBtnTop) infoBtnTop.style.pointerEvents = 'auto';

      (function fallingLeaves(){
        const leafVariants = [
          {
            svg: `<svg viewBox="0 0 36 38">
              <path class="leafShape" d="M18,2 C16,11 3,13 2,23 C1,31 12,36 19,36 C27,36 34,30 33,20 C32,10 21,9 18,2 Z"/>
              <path d="M18 6 Q15 20 19 36" stroke="#a07246" stroke-width="1.5" fill="none"/>
            </svg>`,
            class: "dry"
          },
          {
            svg: `<svg viewBox="0 0 36 38">
              <path class="leafShape" d="M18,4 C14,12 5,15 5,25 C5,32 18,36 23,31 C29,25 34,17 26,11 C23,9 20,4 18,4 Z"/>
              <path d="M18 8 Q17 23 23 31" stroke="#3a8035" stroke-width="1.5" fill="none"/>
            </svg>`,
            class: "green"
          },
          {
            svg: `<svg viewBox="0 0 38 38">
              <path class="leafShape" d="M19 2 L22 12 L34 10 L26 17 L36 19 L26 21 L32 29 L22.5 23.5 L21 36 L19 24 L17 36 L15.5 23.5 L6 29 L12 21 L2 19 L12 17 L4 10 L16 12 Z" />
            </svg>`,
            class: "svgMaple"
          },
          {
            svg: `<svg viewBox="0 0 40 38">
              <path class="leafShape" d="M20,2 C17,7 7,6 9,13 C3,15 7,20 13,18 C7,25 16,24 17,22 C13,33 27,32 23,22 C31,25 32,15 27,15 C34,13 31,6 25,10 C24,6 20,2 20,2 Z"/>
            </svg>`,
            class: "svgOak"
          },
          {
            svg: `<svg viewBox="0 0 36 40">
              <path class="leafShape" d="M30,8 Q22,6 14,19 Q13,3 6,6 Q11,19 13,37 Q22,38 29,19 Q23,29 15,32 Q27,27 30,8 Z"/>
            </svg>`,
            class: "banana"
          },
          {
            svg: `<svg viewBox="0 0 36 38">
              <path class="leafShape" d="M21,5 Q32,9 29,17 Q35,15 28,25 Q36,28 24,32 Q32,37 16,34 Q11,38 8,26 Q2,28 7,17 Q2,14 14,10 Q7,7 17,5 Q13,3 18,5 Q23,2 21,5 Z"/>
            </svg>`,
            class: "monstera"
          },
          {
            svg: `<svg viewBox="0 0 36 34">
              <path class="leafShape" d="M18,31 Q12,23 5,20 Q1,10 8,3 Q14,3 18,9 Q22,3 28,3 Q35,10 31,20 Q24,23 18,31 Z"/>
            </svg>`,
            class: "svgGinko"
          },
          {
            svg: `<svg viewBox="0 0 38 38">
              <path class="leafShape" d="M19 2 L21 11 L36 8 L26 15 L36 20 L26 22 L32 32 L21.5 24.5 L21 36 L19 25 L17 36 L16.5 24.5 L6 32 L11 22 L2 20 L12 15 L2 8 L17 11 Z" />
            </svg>`,
            class: "orange"
          },
          {
            svg: `<svg viewBox="0 0 38 38">
              <path class="leafShape" d="M19 3 L22 9 L33 8 L26 16 L33 18 L26 21 L32 29 L22.5 21.5 L19 36 L15.5 21.5 L6 29 L11 21 L3 18 L10 16 L3 8 L16 9 Z" />
            </svg>`,
            class: "yellow"
          },
          {
            svg: `<svg viewBox="0 0 34 38">
              <path class="leafShape" d="M17,3 Q4,22 17,35 Q30,22 17,3 Z" />
            </svg>`,
            class: "purple"
          },
          {
            svg: `<svg viewBox="0 0 40 40">
              <path class="leafShape" d="M20,7 Q8,24 20,38 Q32,24 20,7 Z" />
            </svg>`,
            class: "svgTeak"
          }
        ];

        const leavesContainer = document.getElementById('leavesContainer');
        const screenW = () => window.innerWidth || document.documentElement.clientWidth;
        const screenH = () => window.innerHeight || document.documentElement.clientHeight;

        function randomBetween(a, b) { return a + Math.random() * (b - a); }
        
        function createLeaf() {
          if (!leavesContainer) return;
          
          const variant = leafVariants[Math.floor(Math.random() * leafVariants.length)];
          const leaf = document.createElement('div');
          leaf.className = `leaf ${variant.class}`;
          leaf.innerHTML = variant.svg;
          
          const startX = randomBetween(0, screenW());
          const endX = startX + randomBetween(-100, 100);
          const fallDuration = randomBetween(8, 15);
          const initialRotation = randomBetween(-180, 180);
          const finalRotation = initialRotation + randomBetween(360, 720);
          const delay = randomBetween(0, 2);
          
          leaf.style.left = startX + 'px';
          leaf.style.top = '-50px';
          leaf.style.setProperty('--initial-rotation', initialRotation + 'deg');
          leaf.style.setProperty('--final-rotation', finalRotation + 'deg');
          leaf.style.setProperty('--end-x', (endX - startX) + 'px');
          leaf.style.transform = `rotate(${initialRotation}deg)`;
          leaf.style.animation = `fall ${fallDuration}s ${delay}s linear forwards`;
          
          leavesContainer.appendChild(leaf);
          
          setTimeout(() => {
            if (leaf.parentNode) {
              leaf.parentNode.removeChild(leaf);
            }
          }, (fallDuration + delay) * 1000);
        }
        
        let leafTimer = null;
        function spawnLeaves() {
          if (!leavesContainer) return;
          
          createLeaf();
          const nextSpawn = randomBetween(200, 800);
          leafTimer = setTimeout(spawnLeaves, nextSpawn);
        }
        
        if (!document.getElementById('fallingLeavesStyle')) {
          const style = document.createElement('style');
          style.id = 'fallingLeavesStyle';
          style.textContent = `
            @keyframes fall {
              from {
                transform: rotate(var(--initial-rotation, 0deg));
                opacity: 0.88;
              }
              to {
                transform: translateY(calc(100vh + 50px)) translateX(var(--end-x, 0)) rotate(var(--final-rotation, 360deg));
                opacity: 0.88;
              }
            }
          `;
          document.head.appendChild(style);
        }
        
        document.addEventListener('DOMContentLoaded', () => { spawnLeaves(); });
      })();

      document.addEventListener('DOMContentLoaded', function () {
        function forwardClick(idFrom, idTo) {
          const src = document.getElementById(idFrom);
          const dest = document.getElementById(idTo);
          if (src && dest) {
            src.onclick = e => { e.preventDefault(); dest.click(); };
          }
        }
        forwardClick('quizBtn-bar', 'quizBtn');
        forwardClick('materiBtn-bar', 'materiBtn');
        forwardClick('caraMainBtn-bar', 'caraMainBtn');

        var aboutMeBtnTop = document.getElementById('aboutMeBtn-top');
        var fadeoutOverlay = document.getElementById('fadeoutOverlay');
        if (aboutMeBtnTop && fadeoutOverlay) {
          aboutMeBtnTop.addEventListener('click', function (e) {
            if (aboutMeBtnTop.getAttribute('href') === 'about-us.html' && e.button === 0 && !e.ctrlKey && !e.metaKey && !e.shiftKey && !e.altKey) {
              e.preventDefault();
              try { sessionStorage.setItem('aboutme_returned', '1'); } catch (err) { }
              fadeoutOverlay.classList.add('show');
              setTimeout(function () {
                window.location.href = aboutMeBtnTop.getAttribute('href');
              }, 700);
            }
          }, false);
        }

        var infoBtnTop = document.getElementById('infoBtn-top');
        var miniInfoModal = document.getElementById('miniInfoModal');
        var closeMiniInfoBtn = document.getElementById('closeMiniInfoBtn');
        let animInfoModalTimeout = null;

        function openMiniInfoModal(){
          if (!miniInfoModal) return;
          miniInfoModal.classList.remove("hide");
          miniInfoModal.style.display = "flex";
          setTimeout(function(){
            miniInfoModal.classList.add("show");
            if (closeMiniInfoBtn) setTimeout(()=>closeMiniInfoBtn.focus(), 150);
          }, 10);
          document.body.style.overflow = 'hidden';
          document.documentElement.style.overflow = 'hidden';
        }
        function hideMiniInfoModal(){
          if (!miniInfoModal) return;
          miniInfoModal.classList.remove("show");
          miniInfoModal.classList.add("hide");
          clearTimeout(animInfoModalTimeout);
          animInfoModalTimeout = setTimeout(function(){
            miniInfoModal.style.display = '';
            miniInfoModal.classList.remove("hide");
          }, 340);
          document.body.style.overflow = 'hidden';
          document.documentElement.style.overflow = 'hidden';
        }

        if (infoBtnTop && miniInfoModal) {
          infoBtnTop.addEventListener('click', function(e){
            e.preventDefault();
            openMiniInfoModal();
          });
        }
        if (closeMiniInfoBtn && miniInfoModal) {
          closeMiniInfoBtn.addEventListener('click', function() {
            hideMiniInfoModal();
          });
        }
        if (miniInfoModal) {
          miniInfoModal.addEventListener('mousedown', function(e){
            if (e.target === miniInfoModal) {
              hideMiniInfoModal();
            }
          });
          document.addEventListener('keydown', function(e){
            if (
              miniInfoModal.classList.contains('show') &&
              (e.key === 'Escape' || e.key === 'Esc')
            ) {
              e.preventDefault();
              hideMiniInfoModal();
            }
          });
        }

        var caraBtn = document.getElementById('caraMainBtn');
        var caraModal = document.getElementById('caraMainModal');
        var closeCara = document.getElementById('closeCaraMain');
        function openCara() {
          caraModal.style.display = "flex";
          requestAnimationFrame(function () {
            caraModal.classList.add('cara-main-anim');
          });
          document.body.style.overflow = 'hidden';
          document.documentElement.style.overflow = 'hidden';
        }
        function closeCaraFn() {
          caraModal.classList.remove('cara-main-anim');
          setTimeout(function () {
            caraModal.style.display = "none";
          }, 440);
          document.body.style.overflow = 'hidden';
          document.documentElement.style.overflow = 'hidden';
        }
        if (caraBtn) caraBtn.onclick = openCara;
        if (closeCara) closeCara.onclick = closeCaraFn;
        if (caraModal) {
          caraModal.onclick = function (e) {
            if (e.target === caraModal) closeCaraFn();
          };
        }
        var caraBarBtn = document.getElementById('caraMainBtn-bar');
        if (caraBarBtn) caraBarBtn.onclick = function (e) { e.preventDefault(); openCara(); };

        document.addEventListener('keydown', function (evt) {
          if (caraModal && caraModal.classList.contains('cara-main-anim')) {
            if (evt.key === "Escape" || evt.key === "Esc") {
              evt.preventDefault(); closeCaraFn();
            }
          }
        });

        var quizBtn = document.getElementById('quizBtn');
        var fadeoutOverlay = document.getElementById('fadeoutOverlay');
        if (quizBtn) {
          quizBtn.addEventListener('click', function (e) {
            e.preventDefault();
            if (fadeoutOverlay) {
              fadeoutOverlay.classList.add('fadein-smooth');
              setTimeout(function () {
                window.location.href = "pilihkarakter.html";
              }, 850);
            } else {
              window.location.href = "pilihkarakter.html";
            }
          });
        }

        var materiBtn = document.getElementById('materiBtn');
        if (materiBtn) {
          materiBtn.addEventListener('click', function (e) {
            e.preventDefault();
            if (fadeoutOverlay) {
              fadeoutOverlay.classList.add('show');
              setTimeout(function () {
                window.location.href = "materi-page.html";
              }, 700);
            } else {
              window.location.href = "materi-page.html";
            }
          });
        }
        var fadeinOverlay = document.getElementById('fadeinOverlay');
        if (fadeinOverlay) {
          if (sessionStorage.getItem('aboutme_returned') === '1') {
            fadeinOverlay.classList.remove('hide');
            try { sessionStorage.removeItem('aboutme_returned'); } catch (e) { }
            setTimeout(function () {
              fadeinOverlay.classList.add('hide');
              setTimeout(function () {
                fadeinOverlay.style.display = 'none';
              }, 750);
            }, 25);
          } else {
            fadeinOverlay.classList.add('hide');
            setTimeout(function () {
              fadeinOverlay.style.display = 'none';
            }, 50);
          }
        }
      });

      document.addEventListener('DOMContentLoaded', function () {
        var audio = document.getElementById('backgroundAudio');
        var muteBtn = document.getElementById('muteToggleBtn');
        var iconMain = document.getElementById('icon-mute-toggle');
        var iconPolygonMain = document.getElementById('icon-mute-toggle-polygon');
        var iconLineMain = document.getElementById('icon-mute-toggle-line');
        var audioDropdown = document.getElementById('audioDropdown');
        var audioVolumeSlider = document.getElementById('audioVolumeSlider');
        var audioMuteMiniBtn = document.getElementById('audioMuteMiniBtn');
        var audioMuteMiniIcon = document.getElementById('audioMuteMiniIcon');
        var audioMuteMiniPoly = document.getElementById('audioMuteMiniPoly');
        var audioMuteMiniLine = document.getElementById('audioMuteMiniLine');

        var LS_MUTED = 'mtkgame-audio-muted';
        var LS_VOLUME = 'mtkgame-audio-volume';

        var savedAudioState = localStorage.getItem(LS_MUTED);
        var savedAudioVolume = localStorage.getItem(LS_VOLUME);

        if (savedAudioState === "true") {
          audio.muted = true;
        } else {
          audio.muted = false;
        }
        if (savedAudioVolume) {
          var v = parseFloat(savedAudioVolume);
          if (!isNaN(v)) {
            audio.volume = v / 100;
            audioVolumeSlider.value = Math.round(v);
          }
        } else {
          audio.volume = 1;
          audioVolumeSlider.value = 100;
        }

        function setMuteIcon(isMuted, svgElem, polyElem, lineElem) {
          if (!svgElem || !polyElem || !lineElem) return;
          if (isMuted) {
            polyElem.setAttribute("points", "9 9 13 9 17 5 17 19 13 15 9 15 9 9 9 9");
            lineElem.setAttribute("x1", "1");
            lineElem.setAttribute("y1", "1");
            lineElem.setAttribute("x2", "23");
            lineElem.setAttribute("y2", "23");
            svgElem.setAttribute("stroke", "#999");
          } else {
            polyElem.setAttribute("points", "9 9 13 9 17 5 17 19 13 15 9 15 9 9");
            lineElem.setAttribute("x1", "19");
            lineElem.setAttribute("y1", "5");
            lineElem.setAttribute("x2", "19");
            lineElem.setAttribute("y2", "19");
            svgElem.setAttribute("stroke", "#FBB904");
          }
        }
        function renderAudioIcons() {
          setMuteIcon(audio.muted, iconMain, iconPolygonMain, iconLineMain);
          setMuteIcon(audio.muted, audioMuteMiniIcon, audioMuteMiniPoly, audioMuteMiniLine);
          if (audioMuteMiniBtn) {
            if (audio.muted) audioMuteMiniBtn.classList.add('muted');
            else audioMuteMiniBtn.classList.remove('muted');
          }
        }
        renderAudioIcons();

        function playAudioAlways() {
          if (!audio.muted) {
            audio.play().then(function () { })
              .catch(function () { });
          }
        }
        setInterval(playAudioAlways, 2000);
        window.addEventListener("pointerdown", playAudioAlways, { once: true, passive: true });
        window.addEventListener("keydown", playAudioAlways, { once: true, passive: true });
        setTimeout(playAudioAlways, 200);

        let dropdownOpen = false;
        function showDropdown() {
          dropdownOpen = true;
          audioDropdown.classList.add('show');
          setTimeout(() => {
            audioDropdown.style.pointerEvents = "auto";
          }, 40);
          document.body.addEventListener('mousedown', closeDropdownOnBody, true);
          document.body.addEventListener('touchstart', closeDropdownOnBody, true);
        }
        function hideDropdown() {
          dropdownOpen = false;
          audioDropdown.classList.remove('show');
          audioDropdown.style.pointerEvents = "none";
          setTimeout(() => {
            document.body.removeEventListener('mousedown', closeDropdownOnBody, true);
            document.body.removeEventListener('touchstart', closeDropdownOnBody, true);
          }, 300);
        }
        let closeDropdownOnBody = function (e) {
          if (!dropdownOpen) return;
          let t = e.target;
          if (!muteBtn.contains(t) && !audioDropdown.contains(t)) {
            hideDropdown();
          }
        };

        muteBtn.addEventListener('click', function (evt) {
          evt.preventDefault();
          evt.stopPropagation();
          if (dropdownOpen) {
            hideDropdown();
          } else {
            showDropdown();
          }
        });

        if (audioMuteMiniBtn) {
          audioMuteMiniBtn.addEventListener('click', function (e) {
            e.preventDefault();
            e.stopPropagation();
            audio.muted = !audio.muted;
            if (audio.muted) {
              localStorage.setItem(LS_MUTED, "true");
              audio.pause();
            } else {
              localStorage.setItem(LS_MUTED, "false");
              playAudioAlways();
            }
            renderAudioIcons();
          });
        }

        audioVolumeSlider.addEventListener('input', function () {
          let val = Number(audioVolumeSlider.value);
          let v = isNaN(val) ? 1 : Math.max(0, Math.min(val, 100));
          audio.volume = v / 100;
          localStorage.setItem(LS_VOLUME, String(v));
          if (v === 0) {
            audio.muted = true;
            localStorage.setItem(LS_MUTED, "true");
            audio.pause();
          } else {
            if (audio.muted) {
              audio.muted = false;
              localStorage.setItem(LS_MUTED, "false");
              playAudioAlways();
            }
          }
          renderAudioIcons();
        });

        audio.addEventListener('volumechange', function () {
          let volumePct = Math.round(audio.volume * 100);
          if (Number(audioVolumeSlider.value) !== volumePct) {
            audioVolumeSlider.value = volumePct;
          }
          renderAudioIcons();
        });

        document.addEventListener('keydown', function (ev) {
          if (dropdownOpen && ev.key === "Escape") hideDropdown();
        });
        window.addEventListener('resize', function () {
          if (dropdownOpen) hideDropdown();
        });
      });

      document.addEventListener('DOMContentLoaded', function () {
        var yearNow = new Date().getFullYear();
        var cy = document.getElementById('copyright-year');
        if (cy) cy.textContent = yearNow;
      });
    </script>
  </section>
</body>
</html>: 11px;
    margin-bottom: 8px;
  }
  .button-row.center-menu-buttons {
    top: 7%;
  }
  .main-quiz-btn {
    font-size: 10.2px;
  }
}

@media (max-width: 550px) {
  .mini-info-modal .mini-info-modal-content-inner {
    margin-top: 21px;
  }
}
</style>
</head>
<body class="fadein-body-init">
<div class="page">
  <nav class="navbar">
    <div class="logo">
      <img src="asset/logo.png" alt="Logo">
    </div>
    <div class="nav-actions">
      <a href="materi-page.html" class="nav-btn">Materi</a>
      <a href="game-rules.html" class="nav-btn">Peraturan</a>
      <a href="about-us.html" class="nav-btn">Tentang</a>
    </div>
  </nav>
  <section class="hero">
    <div class="container-center">
      <div class="button-row center-menu-buttons">
        <a href="ulartangga.html" class="main-quiz-btn">Main Ular Tangga</a>
        <div class="below-quiz-buttons">
          <a href="pilihkarakter.html" class="nav-btn below-quiz">Pilih Karakter</a>
          <a href="about-us.html" class="nav-btn below-quiz">Tentang Kami</a>
        </div>
      </div>
    </div>
  </section>
  <div class="copyright-container">
    <span class="copyright-text">&copy; <span id="copyright-year"></span> Rossy Fadhilah</span>
  </div>
</div>
<script>
document.addEventListener('DOMContentLoaded', function () {
  setTimeout(function () {
    document.body.classList.remove('fadein-body-init');
  }, 20);
  document.querySelectorAll('a.nav-btn, .main-quiz-btn').forEach(function (el) {
    el.addEventListener('click', function (e) {
      var href = el.getAttribute('href');
      if (href) {
        e.preventDefault();
        document.body.classList.add('fadein-body-init');
        setTimeout(function () {
          window.location.href = href;
        }, 500);
      }
    });
  });
  var yEl = document.getElementById('copyright-year');
  if (yEl) yEl.textContent = new Date().getFullYear();
});
</script>
</body>
</html>
